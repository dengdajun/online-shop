layui.define("layer",function(c){var e=layui.jquery,t=layui.layer,r=layui.hint(),i=layui.device(),f="form",n=".layui-form",u="layui-this",o="layui-disabled",s=function(){this.config={verify:{required:[/[\S]+/,"必填项不能为空"],phone:[/^1\d{10}$/,"请输入正确的手机号"],email:[/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,"邮箱格式不正确"],url:[/(^#)|(^http(s*):\/\/[^\s]+\.[^\s]+)/,"链接格式不正确"],number:[/^\d+$/,"只能填写数字"],date:[/^(\d{4})[-\/](\d{1}|0\d{1}|1[0-2])([-\/](\d{1}|0\d{1}|[1-2][0-9]|3[0-1]))*$/,"日期格式不正确"],identity:[/(^\d{15}$)|(^\d{17}(x|X|\d)$)/,"请输入正确的身份证号"]}}};s.prototype.set=function(b){var g=this;return e.extend(!0,g.config,b),g},s.prototype.verify=function(b){var g=this;return e.extend(!0,g.config.verify,b),g},s.prototype.on=function(g,b){return layui.onevent(f,g,b)},s.prototype.render=function(g){var h=this,b={select:function(){var p="请选择",m="layui-form-select",q="layui-select-title",v=e(n).find("select"),k=function(w,x){e(w.target).parent().hasClass(q)&&!x||e("."+m).removeClass(m+"ed")},j=function(y,z){var w=e(this),x=y.find("."+q);z||(x.on("click",function(A){y.hasClass(m+"ed")?y.removeClass(m+"ed"):(k(A,!0),y.addClass(m+"ed"))}),y.find("dl>dd").on("click",function(){var A=e(this),C=A.attr("lay-value"),B=w.attr("lay-filter");return !A.hasClass(o)&&(w.val(C).removeClass("layui-form-danger"),x.find("input").val(A.text()),A.addClass(u).siblings().removeClass(u),void layui.event(f,"select("+B+")",{elem:w[0],value:C}))}),y.find("dl>dt").on("click",function(A){return !1}),e(document).off("click",k).on("click",k))};v.each(function(y,w){var x=e(this),H=x.next("."+m),B=this.disabled,G=w.value,z=e(w.options[w.selectedIndex]),A=e(['<div class="layui-unselect '+m+(B?" layui-select-disabled":"")+'">','<div class="'+q+'"><input type="text" placeholder="'+(w.options[0].innerHTML?w.options[0].innerHTML:p)+'" value="'+(G?z.html():"")+'" readonly class="layui-input layui-unselect'+(B?" "+o:"")+'">','<i class="layui-edge"></i></div>','<dl class="layui-anim layui-anim-upbit'+(x.find("optgroup")[0]?" layui-select-group":"")+'">'+function(C){var D=[];return layui.each(C,function(E,F){(0!==E||F.value)&&("optgroup"===F.tagName.toLowerCase()?D.push("<dt>"+F.label+"</dt>"):D.push('<dd lay-value="'+F.value+'" class="'+(G===F.value?u:"")+(F.disabled?" "+o:"")+'">'+F.innerHTML+"</dd>"))}),D.join("")}(x.find("*"))+"</dl>","</div>"].join(""));H[0]&&H.remove(),x.after(A),j.call(this,A,B)})},checkbox:function(){var m={checkbox:["layui-form-checkbox","layui-form-checked","checkbox"],_switch:["layui-form-switch","layui-form-onswitch","switch"]},k=e(n).find("input[type=checkbox]"),j=function(p,v){var q=e(this);p.on("click",function(){var w=q.attr("lay-filter");q[0].disabled||(q[0].checked?(q[0].checked=!1,p.removeClass(v[1])):(q[0].checked=!0,p.addClass(v[1])),layui.event(f,v[2]+"("+w+")",{elem:q[0],value:q[0].value}))})};k.each(function(v,w){var y=e(this),p=y.attr("lay-skin"),x=this.disabled;"switch"===p&&(p="_"+p);var q=m[p]||m.checkbox,z=y.next("."+q[0]),F=e(['<div class="layui-unselect '+q[0]+(w.checked?" "+q[1]:"")+(x?" layui-checkbox-disbaled "+o:"")+'">',{_switch:"<i></i>"}[p]||"<span>"+(w.title||"勾选")+'</span><i class="layui-icon">&#xe618;</i>',"</div>"].join(""));z[0]&&z.remove(),y.after(F),j.call(this,F,q)})},radio:function(){var p="layui-form-radio",k=["&#xe643;","&#xe63f;"],j=e(n).find("input[type=radio]"),m=function(q){var v=e(this),w="layui-anim-scaleSpring";q.on("click",function(){var y=v[0].name,C=v.parents(n),z=v.attr("lay-filter"),x=C.find("input[name="+y.replace(/(\.|#|\[|\])/g,"\\$1")+"]");v[0].disabled||(layui.each(x,function(){var A=e(this).next("."+p);this.checked=!1,A.removeClass(p+"ed"),A.find(".layui-icon").removeClass(w).html(k[1])}),v[0].checked=!0,q.addClass(p+"ed"),q.find(".layui-icon").addClass(w).html(k[0]),layui.event(f,"radio("+z+")",{elem:v[0],value:v[0].value}))})};j.each(function(z,v){var q=e(this),x=q.next("."+p),w=this.disabled,y=e(['<div class="layui-unselect '+p+(v.checked?" "+p+"ed":"")+(w?" layui-radio-disbaled "+o:"")+'">','<i class="layui-anim layui-icon">'+k[v.checked?0:1]+"</i>","<span>"+(v.title||"未命名")+"</span>","</div>"].join(""));x[0]&&x.remove(),q.after(y),m.call(this,y)})}};return g?b[g]?b[g]():r.error("不支持的"+g+"表单渲染"):layui.each(b,function(k,j){j()}),h};var l=function(){var k=e(this),b=a.config.verify,w=null,v="layui-form-danger",g={},q=k.parents(n),m=q.find("*[lay-verify]"),j=k.parents("form")[0],h=q.find("input,select,textarea"),p=k.attr("lay-filter");return layui.each(m,function(B,D){var y=e(this),A=y.attr("lay-verify"),x="",z=y.val(),C="function"==typeof b[A];if(y.removeClass(v),b[A]&&(C?x=b[A](z,D):!b[A][0].test(z))){return t.msg(x||b[A][1],{icon:5,shift:6}),i.android||i.ios||D.focus(),y.addClass(v),w=!0}}),!w&&(layui.each(h,function(x,y){y.name&&(/^checkbox|radio$/.test(y.type)&&!y.checked||(g[y.name]=y.value))}),layui.event.call(this,f,"submit("+p+")",{elem:this,form:j,field:g}))},a=new s,d=e(document);a.render(),d.on("reset",n,function(){setTimeout(function(){a.render()},50)}),d.on("submit",n,l).on("click","*[lay-submit]",l),c(f,function(b){return a.set(b)})});